###ECS模式和Entitas

####介绍ECS模式
#####ECS简介 
    ECS是一种设计模式，它强调组合优于继承的设计法则。
    ECS分别指代其最重要的三个元素。
    E表示Entity，称为实体，它可以拥有一个或者多个组件，它的意义主要用来进行生命周期的管理，它本身其实只需要用一个32bit ID表示；C表示Component，称为组件，组件中只存有表示特定属性的数据；S表示System,称为系统，系统中只有方法没有数据，一个系统只关心处理某一类或几类组件中的数据。ECS模式核心思想就是用这三种元素来组合构建世界。
    传统的OOP思想是世界中的一切皆对象，把数据和行为封装成对象来构造世界；而ECS思想和其最大的区别就是，把数据和行为分离，不再封装在一起，把数据拆分成各种组件，把行为拆分成各个子系统，而实体则负责把多个组件组合起来变成有意义的单元，当实体中的组件经过系统的处理之后也就意味着实体完成了一次行为。
    在ECS架构中，把每个可能单独使用的对象属性归纳为一个个Component，比如对象的位置状态就可以成为一个Component,每个Entity由多个Component组合而成，共享一个生命周期；然后多个Component可以组合中一起作为System的筛选器，当System只关心某一个固定的Component的组合时，ECS框架就把世界中满足有这个组合的Entity都筛选出来供交给这个System，然后这个System就操作这些Entity中的Component，从而完成功能，不满足这个组合的Entity将被忽略。在ECS中，每个系统关注的是一个Entity的集合，这些Entity拥有共性的切片。
#####ECS优点
    1.通过组合可以有效的消除由于复杂的继承关系导致程序难以理解、维护和扩展的问题。
    2.可以简化依赖的管理，主要处理好系统和关心的组件的关系即可。
    3.可以通过在运行时为实体增删组件来改变实体能实现的功能，极大的提高了灵活性。
#####ECS问题及注意事项
    1.系统间的通信问题。通常系统间的通信是通过把数据保存在组件中来进行通信。但是，如果系统间有很多事件需要通信，而且这些事件都发生的不太频繁，那么将导致增加很多专门用来通信的组件，还会导致系统再每次update的时候都要去检查一下相应的组件数据，这样将降低程序的运行效率。所以，我们在实现ECS框架的时候有必要加入观察者模式来解决这种系统间的通信问题，使得事件发生时，才通知观察者来处理。
    2.系统间的执行顺序问题。
#####ECS框架实现注意事项
    1.遍历实体时的消耗问题。如果每次都遍历所有实体来找系统需要处理的组件的话，那么当实体数量比较大时，每次udpate为所有系统查找组件都将导致大量的时间消耗。所以，在实现ECS框架的时候，可以选择按组件类型类分组存储组件，这样在为系统查找组件时将极大的提高效率。也可以考虑增加其他方法来提高遍历的效率。
    2.
####介绍Entitas框架
#####Entitas帮助完成的功能
#####Entitas使用简要指南